<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>第1章 ECMAScript 和 JavaScript 的未来 | 歪马行空</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="JavaScript已经从1995年的一个为了赢得战略性优势的市场营销策略，变成了如今(2017年)世界上最广泛使用的应用运行平台中的核心编程语言。该语言不再是只运行在浏览器中，现在也被用于创建桌面和移动应用、硬件设备中，甚至NASA的太空服设计中。 JavaScript是如何做到这一步的呢，接下来它又该怎么做呢？">
<meta name="keywords" content="翻译">
<meta property="og:type" content="article">
<meta property="og:title" content="第1章 ECMAScript 和 JavaScript 的未来">
<meta property="og:url" content="http://verymuch.com/2017/10/23/第1章-ECMAScript-和-JavaScript-的未来/index.html">
<meta property="og:site_name" content="歪马行空">
<meta property="og:description" content="JavaScript已经从1995年的一个为了赢得战略性优势的市场营销策略，变成了如今(2017年)世界上最广泛使用的应用运行平台中的核心编程语言。该语言不再是只运行在浏览器中，现在也被用于创建桌面和移动应用、硬件设备中，甚至NASA的太空服设计中。 JavaScript是如何做到这一步的呢，接下来它又该怎么做呢？">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://verymuch.com/images/practical-modern-javascript.gif">
<meta property="og:updated_time" content="2018-02-09T12:24:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第1章 ECMAScript 和 JavaScript 的未来">
<meta name="twitter:description" content="JavaScript已经从1995年的一个为了赢得战略性优势的市场营销策略，变成了如今(2017年)世界上最广泛使用的应用运行平台中的核心编程语言。该语言不再是只运行在浏览器中，现在也被用于创建桌面和移动应用、硬件设备中，甚至NASA的太空服设计中。 JavaScript是如何做到这一步的呢，接下来它又该怎么做呢？">
<meta name="twitter:image" content="http://verymuch.com/images/practical-modern-javascript.gif">
    

    
        <link rel="alternate" href="/" title="歪马行空" type="application/atom+xml" />
    

    
        <link rel="icon" href="/css/images/avatar2.jpg" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">歪马行空</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="https://github.com/verymuch">GitHub</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar0.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="https://github.com/verymuch">GitHub</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar0.jpg" />
            <h2 id="name">verymuch</h2>
            <h3 id="title">Web Developer ( FE )</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing, China</span>
            <a id="follow" target="_blank" href="https://github.com/verymuch/">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                18
                <span>文章</span>
            </div>
            <div class="article-info-block">
                6
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/verymuch" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-第1章-ECMAScript-和-JavaScript-的未来" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            第1章 ECMAScript 和 JavaScript 的未来
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/10/23/第1章-ECMAScript-和-JavaScript-的未来/">
            <time datetime="2017-10-23T10:54:46.000Z" itemprop="datePublished">2017-10-23</time>
        </a>
    </div>


                        
                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/翻译/">翻译</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><link rel="stylesheet" href="/css/custom.css"></p>
<script src="http://lib.baomitu.com/jquery/3.2.1/jquery.min.js"></script>
<script src="/js/generate-toc.js"></script>

<p>JavaScript已经从1995年的一个为了赢得战略性优势的市场营销策略，变成了如今(2017年)世界上最广泛使用的应用运行平台中的核心编程语言。该语言不再是只运行在浏览器中，现在也被用于创建桌面和移动应用、硬件设备中，甚至NASA的太空服设计中。</p>
<p>JavaScript是如何做到这一步的呢，接下来它又该怎么做呢？</p>
<a id="more"></a>
<h2><span id="11-javascript标准简史">1.1 JavaScript标准简史</span></h2><p>1995年，网景(NetScape)公司想要构建一个动态的web页面，而这<code>HTML</code>是无法实现的。Brendan Eich最初进入网景就是为了给浏览器开发一个功能类似于Scheme的语言。但在他加入之后，他才发现他的上级主管希望这一语言看起来像Java，而且这一决定已然正在实施。</p>
<p>Brendan花了十天的时间创建了JavaScript的第一个原型，主要采纳了Scheme中的一等公民函数和Self中的原型作为它的主要构成。JavaScript这一初始版本的代号为Mocha。这时，它还没有包含数组或者对象字面量，以及会导致警告的各类错误。异常处理方面的缺失也是为什么到今天仍有很多操作返回<code>NaN</code>或者<code>undefined</code>的原因。Brendan在DOM0和JavaScript初始版本上所做的工作为现在的标准工作奠定了基础。</p>
<p>1995年9月，Netscape Navigator 2.0测试版发布，JavaScript开始与其一起发布，这一版本是JavaScript的修订版，被命名为LiveScript。同年12月，当Navigator 2.0 beta 3发布时，又被重新命名为JavaScript(由Sun注册商标，现在被Oracle持有)。此后不久，网景公司推出了服务端JavaScript的实现，用于在网景企业服务器中运行脚本，并将其命名为LiveWire[注释 1]。1996年，由微软通过逆向工程技术实现的JavaScript版本——JScript，与IE3一起发布。JScript也可以用于Internet Information Server(IIS)的服务端。</p>
<p>1996年，该语言由ECMA的TC39技术委员会标准化为ECMA-262规范，并命名为ECMAScript(ES)。一方面，Sun公司不同意将JavaScript商标转让给ECMA；另一方面，虽然微软提供了JScript，但是其他成员公司并不想使用该名称。因此，使用了ECMAScript这个名字。</p>
<p>当时，有关于网景JavaScript和微软JScript实现差异的讨论几乎占用了整个TC39标准委员会议的大部分时间。尽管如此，委员会还是取得了成果：向后兼容被定为黄金准则。比如，引入严格相等运算符(<code>===</code>和<code>!==</code>)，而不影响依赖松散相等比较算法的现有程序。</p>
<p>ECMA-262的第一版在1997年6月发布。次年六月，该标准经过国际ISO机构的诸多严格审查，在ISO/IEC 16262国际标准下进行了完善，并正式化成为第二版。</p>
<p>1999年12月，第三版发布。该版本对正则表达式、<code>switch</code>语句、<code>do/whille</code>、<code>try/catch</code>、<code>Object#hasOwnProperty</code>以及一些其他改变进行了标准化。这些功能中的大部分功能在网景的JavaScript运行环境SpiderMonkey中都已经可以使用了。</p>
<p>之后不久，TC39发布了ES4规范的草案。ES4的早期工作促使了2000年年中JScript.NET的产生，并最终在2006年促使了Flash中ActionScript 3的产生。</p>
<p>关于JavaScript应该如何向前推进难以达成统一的观点，这就导致规范工作停滞不前。对于Web标准来说这是一个很微妙的时刻：微软几乎垄断了整个Web行业，但是他们对于制定标准却毫无兴趣。</p>
<p>2003年，AOL裁掉了50名网景员工[注释 4]，Mozilla基金会因此成立了。同时，由于微软占据了超过95%的网络浏览市场份额，TC39 被迫解散。</p>
<p>直到两年后，Brendan在Mozilla以Firefox日益增长的市场份额为杠杆使得微软回归，ECMA才得以重新开始TC39的相关工作。2005年年中，TC39再次开始召开定期会议。对于ES4，计划引入模块系统、类、遍历器(Iterator)、生成器(Generator)、解构赋值、类型注释、尾调用优化、代数输入以及其他各类功能。由于这一项目太过庞大，导致了ES4的规范工作一次又一次的推迟。</p>
<p>2007年，委员会主要有两种立场：一部分人主张规范ES3.1，这一版本只是在ES3的基础上新增更多的方法；另一个立场则是主张规范ES4，虽然这部分内容则是过度设计并且有一定不足之处的。直到2008年[注释 5]，如前所提ES3.1才讨论通过，之后更名为ES5。尽管ES4最终被废弃了，除了其中一些仍在考虑以及很少的被废弃的功能，其中的很多功能都最终加入到了ES6中(ES6在决议时的代号是Harmony)。ES3.1中更新的内容，是ES4能够逐渐实现的基础。</p>
<p>2009年12月，ES3发布十周年，ECMAScript第五版发布。这一版本对于该语言规范进行了更实用的扩展，使得该语言规范在浏览器中得到了普遍的实现。这一版本主要增加了<code>get</code>和<code>set</code>存取器、Array原型中的函数扩展、反射机制和内省机制以及原生支持JSON解析和严格模式。</p>
<p>两年以后，2011年6月，该规范再一次进行了审查和编辑，形成了第三版的国际标准ISO/IEC 16262:2011，并正式化为ECMAScript5.1。</p>
<p>之后TC39又用了四年的时间来规范ECMAScirpt 6，并于2015年6月发布。第六版是该语言发布以来改动最大的一次，这一版本实现了许多ES4中被推迟到Harmony决议中的提案。通过本书，我们将深入探讨ES6。</p>
<p>在ES6进行规范化的同时，2012年，WHATWG(一个旨在推动web发展的标准组织)开始着手记录ES5.1和浏览器实现在兼容性和可操作性方面的差异。这一工作促成了<code>String#substr</code>的标准化，这一方法之前并不明确；统一了在HTML标签中包装字符串的几种方法，这些方法在不同的浏览器中是不一致的；并在<code>Object.prototype</code>上新增如<code>__proto__</code>和<code>__defineGeter__</code>等属性以及其他改进[注释 6]。这些工作最终形成了一份独立的Web ECMAScript规范，最终在2015年中被加入到附录B当中。附录B是ECMAScript规范核心中的建议部分，浏览器可以不遵照其进行实现。与此次geng新一起，附录B也成为了web浏览器的规范和要求。</p>
<p>第六版是JavaScript历史上一个意义重大的里程碑。除了成打的新功能之外，ES6也是ECMAScipt成为一个频繁更新的滚动标准的主要标志。</p>
<h2><span id="12-滚动标准ecmascript">1.2 滚动标准ECMAScript</span></h2><p>在ES3之后，花费了十年的时间，但语言规范却并没有重大改变；之后又用了四年才形成ES6。显然，TC39的会议流程需要改善。之前的修订流程通常是期限驱动的。任何内容延迟达成一致，都会使得修订过程等待很长一段时间，这就会导致特征蠕动，进而引起更多的推迟。规范中一些较小的改动常常因为较大的新增内容而推迟。因此为了不再推迟，较大的新增内容在完成前需要承受很大的压力。</p>
<p>随着ES6的发布，TC39对提案修订的流程进行了优化[注释7]，使得它能够满足现在的预期：更快更一致的迭代，使得规范的开发更加大众化。基于这一点，TC39不再采用古老的书面提案形式，而是使用Ecmarkup(用于格式化ECMAScript规范的HTML语法超集)和GitHub来提交需求，大大增加了非会员的提案数量[注释 8]，他们就像是外在的参与者一样。这种新的形式是持续的，并且也更加透明：最新的<a href="https://mjavascript.com/out/spec-draft" target="_blank" rel="noopener">规范草案</a>随时都能够看到，而不是像之前那样，必须到网页上去下载Word文档或者PDF版本。</p>
<p>Firefox、Chrome、Edge、Safari以及Node.js对于ES6规范的支持均已超过95%[注释 9]。我们已经可以在这些浏览器中使用这些已经支持的功能，而不用等到它们对ES6的支持度达到100%才能使用。</p>
<p>新的流程引入了四个不同的成熟度阶段[注释 10]。越成熟的提案，最终被添加到规范中的可能性越大。</p>
<p>任何关于修改或者新增内容、还没有被提交为正式提案的讨论、想法或者提案都被认为是一个有雄心的“稻草人”提案(即stage 0)，不过只有TC39委员会成员可以创建稻草人提案。在写本书的时候，大概有十多个活跃的稻草人提案[注释 11]。</p>
<p>第一阶段表示提案被正式提出，并被期望解决交叉问题、和其他提案的交互问题以及实现上的问题。这一阶段的提案需要定义一个独立的问题，并给出该问题的具体解决方式。第一阶段的提案常常包括以下几方面的内容：高级API描述、说明性的用法示例、内部语法和算法的讨论。第一阶段提案可能会随着过程的不断进行发生很大的改变。</p>
<p>第二阶段的提案提供了规范的初始草案。从这时开始，就可以开始在运行环境中尝试具体的实现了。实现的方式可以采用补丁(polyfill)的形式，一种能使得运行环境支持提案内容的用户代码；也可以是一种引擎实现，原生地为提案内容提供支持；或者是使用构建工具将源代码转换，编译成现有引擎可以执行的代码。</p>
<p>第三阶段提案则是候选推荐。只有规范的编辑和指定的审查人员在最终的规范上签字确认，提案才能进入第三阶段。实现者也需要对该提案感兴趣才行。实际上，一个提案只有在满足下面三个条件之一时才能进入第三阶段：某个浏览器已经实现、高度可用的补丁或者在类似于Babel的实时编译工具中已经得到支持。第三阶段提案除了修复使用过程中新发现的问题外，不会再有其他的改动。</p>
<p>一个提案想要进入第四阶段，则必须有两个独立的实现方案能够通过验收测试。进入第四阶段的提案，最终会添加到ECMAScript的下一版当中。</p>
<p>该规范预计从现在开始每年发布都发布新版本。为了和年度发版计划统一，规范的版本从现在开始与出版的年份相关联。因此，ES6也是ES2015，之后将有ES2016而不是ES7，以及ES2017等等。实际上，ES2015这个称呼并没有被接受，仍被称为ES6。ES2016也是在命名约定改变之前就发布了的，因此有时候它也指ES7。因为ES6这一名称在社区中已经普遍被接受，我们抛开不谈，最终的规范版本将会是：ES6，ES2016，ES2017，ES2018等。</p>
<p>调整后的提案流程加上每年都进行时标准化形成了一个更加一致的标准发版过程，并且这也意味着规范的修订版本号变得不再那么重要。现在的重点是提案阶段，并且我们可以期待ECMAScript标准特定修订的引用变得更加不寻常【<strong>李老师重点关注语句</strong>】。</p>
<h2><span id="13-浏览器支持和辅助工具">1.3 浏览器支持和辅助工具</span></h2><p>如果能够在JavaScript引擎中提供两种独立的实现方式，第三阶段的候选推荐提案最有可能在下一个版本加入到规范之中。实际上，通过实验性的引擎实现、补丁或者使用编译器，第三阶段的提案已经能够安全地在实际应用程序中使用了。其实第二阶段和更早阶段的提案也已经被JavaScript开发人员使用，这也加强了实现者和使用者之间的反馈循环。</p>
<p>Babel和类似的编译器，将代码作为输入，生成web平台(HTML、CSS或JavaScript)原生支持的输出。这些编译器通常被称为<em>转换器</em>，即编译器的一个子集。如果我们想要在代码中使用一个JavaScript引擎还没有普遍实现的提案，则Babel之类的编译器可以将使用了新提案的部分代码转换成现有JavaScript实现已经广泛支持的代码。</p>
<p>转换的过程可以在构建时进行，这样使用者可以得到所选JavaScript运行环境所支持的代码。这一机制改善了运行环境的支持基线，使得JavaScript开发者能够更早地利用新的语言功能和语法。这对于规范的编写者和实现者来说也是非常有利的，因为这样使得他们可以收集诸如可行性、渴求性以及可能存在的bug或者边界用例等方面的反馈。</p>
<p>编译器可以将我们所写的ES6源代码生成浏览器可以更加一致性解释的ES5代码。这是现在在生产环境中运行ES6代码的最可靠方式：通过编译生成ES5代码，这样大多数旧浏览器也能和现代浏览器一样正常执行。</p>
<p>这个方法同样适用于ES7及其之后的版本。因为语言规范将每年都会发布新版本，那么我们可以期待编译器能够支持ES2017输入、ES2018输入等等。同样地，随着浏览器的支持度越来越好，编译器可以逐渐降低为了支持ES6输出的复杂性，然后是ES7及其之后的版本。从这种情况来说，我们可以将JavaScript编译器看成一个移动的窗口，输入使用语言中最新可用的语法编写的代码，生成不影响浏览器支持的最新代码。</p>
<p>接下来，我们讨论一下如何在工作中使用Babel。</p>
<h3><span id="131-babel编译器简介">1.3.1 Babel编译器简介</span></h3><p>Babel可以将基于ES6特性的现代JavaScript代码编译成ES5代码。当我们使用的新特性还没有完全支持时，编译器更加受欢迎，因为它能够让我们写出可读性更高的代码。</p>
<p>Babel的在线<a href="https://babeljs.io/repl/" target="_blank" rel="noopener">REPL(读取-求值-打印 循环)</a>转换器是一种很好的学习ES6的方法，而不需要经历安装Node.js和<code>babel</code> CLI、手动编译源码等任何麻烦。</p>
<p>REPL提供了一个源代码输入框，可以自动实时编译，编译后的代码在源代码的右侧。</p>
<p>现在我们在REPL中输入一些代码，你可以使用下面的这个代码片段：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">double</span> = <span class="keyword">value</span> =&gt; <span class="keyword">value</span> * <span class="number">2</span> </span><br><span class="line">console.log(<span class="keyword">double</span>(<span class="number">3</span>))</span><br><span class="line"><span class="comment">// &lt;- 6</span></span><br></pre></td></tr></table></figure>
<p>如下图1-1所示，在输入的源码的右侧，我们能够看到转换后的ES5等价代码。源码更新后，编译结果也会实时更新。</p>
<p><img src="http://p2.qhimg.com/t01a3cd353c546392d2.jpg" alt="图1-1 在线Babel REPL演示——一种很好地学习交互式ES6会话的方式【**李老师重点关注语句**】"></p>
<p>Babel REPL是一个有效的工具，可以通过它来尝试书中介绍的一些特性。不过，需要知道的是Babel并不转换新的内置对象，如<code>Symbol</code>、<code>Proxy</code>和<code>WeakMap</code>。这些引用会被原封不动地保留下来了，依赖于执行Babel输出的运行环境提供这些内置对象。如果我们想要支持还没有实现这些内置对象的运行环境，我们可以在代码中引入<code>babel-polyfill</code>包。</p>
<p>在一些较老的JavaScript版本中，这些特性在语义上正确地实现很难，甚至完全不可能实现。补丁可能能够缓解这一问题，但是它们通常不能覆盖所有情况，因此需要做一些妥协。所以在我们将转换后的使用了内置对象和补丁的代码发布到生产环境时，我们需要很小心并且测试我们所假设的内容。</p>
<p>基于这种情况，我们最好等到浏览器整体支持这些新的内置对象时再开始使用它们。所以，建议大家使用不依赖于这些新内置对象的替代方案。同时，学习这些特性也是很重要的，这样我们对于JavaScript语言的理解才不会落后。</p>
<p>诸如Chrome、Firefox和Edge等现代浏览器现在已经支持ES2015及之后版本的大部分内容，所有当我们试着运行某个浏览器已经支持的新特性语法时，它们的开发者工具很好用。当生产级应用需要依赖于新的JavaScript特性时，推荐使用转换器进行编译处理，这样应用能够支持更多的JavaScript运行环境。</p>
<p>除了REPL，Babel还提供了一个Node.js的命令行工具包。你可以通过Node.js的包管理工具<code>npm</code>来安装。</p>
<blockquote>
<p>下载<a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a>。安装<code>node</code>后，就可以在终端内使用<code>npm</code>命令了。</p>
</blockquote>
<p>开始之前，我们先创建一个项目目录以及一个<em>package.json</em>文件。<em>package.json</em>是一份描述Node.js应用的清单。我们可以通过<code>npm</code>命令行创建<em>package.json</em>文件。</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> babel-<span class="built_in">setup</span></span><br><span class="line">cd babel-<span class="built_in">setup</span></span><br><span class="line">npm init --yes</span><br></pre></td></tr></table></figure>
<blockquote>
<p>执行<code>init</code>命令时传递<code>--yes</code>参数表示不用询问我们，同意使用<code>npm</code>提供的默认值配置<em>package.json</em>文件。</p>
</blockquote>
<p>同样，我们再创建一个<em>example.js</em>文件，并在其中加入以下代码，将其保存在刚刚创建的<em>babel-setup</em>下的<em>src</em>子目录中：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">double</span> = <span class="keyword">value</span> =&gt; <span class="keyword">value</span> * <span class="number">2</span></span><br><span class="line">console.log(<span class="keyword">double</span>(<span class="number">3</span>))</span><br><span class="line"><span class="comment">// &lt;- 6</span></span><br></pre></td></tr></table></figure>
<p>在我们常用的终端中，输入下面两行命令可以安装Babel：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install </span><span class="keyword">babel-cli@6 </span>--save-dev</span><br><span class="line">npm <span class="keyword">install </span><span class="keyword">babel-preset-env@6 </span>--save-dev</span><br></pre></td></tr></table></figure>
<blockquote>
<p>通过<code>npm</code>安装的包存放在项目根目录的<em>node_modules</em>目录下。可以通过创建npm script命令或者使用<code>require</code>声明来访问这些包。</p>
<p><code>--save-dev</code>参数会将所安装的包作为开发依赖添加到<em>package.json</em>文件中。这样一来，当我们将项目移植到一个新的环境时，可以仅仅通过运行<code>npm install</code>命令就重新安装每个依赖。</p>
<p><code>@</code>符号指明我们想要安装的包的特定版本。使用<code>@6</code>则是告诉<code>npm</code>安装<code>babel-cli</code>的<code>6.x</code>版本中最新的一个。这种优先策略对于我们的应用在将来不出问题是有好处的。因为这样一来，将永远不会安装<code>7.0.0</code>或者之后的版本。因为<code>7.0.0</code>之后的版本可能会包含一些在撰写本文时无法预见的破坏性变化。</p>
</blockquote>
<p>接下来，我们用下面的值替换<em>package.json</em>中<code>scripts</code>属性。<code>babel-cli</code>提供的<code>babel</code>命令行功能可以将<em>src</em>目录下的全部内容，编译成所需的输出格式，并且将结果保存到<em>dist</em>目录，并且保留文件在原始目录中的结构：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">        <span class="attr">"build"</span>: <span class="string">"babel src --out-dir dist"</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>加上在之前各步骤中安装的包，一个最小的<em>package.json</em>文件看起来如下面的代码片段所示：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">        <span class="attr">"build"</span>: <span class="string">"babel src --out-dir dist"</span> </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"devDependencies"</span>: &#123; </span><br><span class="line">        <span class="attr">"babel-cli"</span>: <span class="string">"^6.24.0"</span>,</span><br><span class="line">        <span class="attr">"babel-preset-env"</span>: <span class="string">"^1.2.1"</span></span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>scripts</code>对象中列举的所有命令都可以通过<code>npm run &lt;name&gt;</code>来执行，通过这种方式执行会临时修改环境变量<code>$PATH</code>的值，因此我们才可以在没有在系统上全局安装<code>babel-cli</code>的情况下，找到<code>babel-cli</code>并在命令行执行。</p>
</blockquote>
<p>如果你现在在终端内执行<code>npm run build</code>，你就能看到生成后的<em>dist/example.js</em>文件。输出的文件和我们的源文件是完全相同的。这是因为Babel并没有做任何的假设，所以我们需要事先配置它。在<em>package.json</em>之后创建一个<em>.babelrc</em>文件，并在其中写入以下JSON数据：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"presets"</span>: [<span class="string">"env"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>前面我们通过<code>npm</code>安装的<code>env</code>预设向Babel之中添加了一系列的插件，从而可以将不同的ES6代码转换为ES5。这个预设包含很多内容，可以将类似<em>example.js</em>中所用的箭头函数转换成<code>ES5</code>的代码。通常情况下，Babel的<code>env</code>预设会开启最新的浏览器已经支持的特性相关转换插件。这一预设是可配置的，这意味着我们能够决定要覆盖多久之前的浏览器支持度。支持的浏览器越多，我们的编译包就越大。支持的浏览器越少，我们的用户满意度就越低。一如既往，研究的本质是确定对于Babel的<code>env</code>预设来说什么是正确的配置。默认地，每一个转换都会被开启，从而支持更多的运行环境。</p>
<p>现在如果我们再一次运行编译脚本，能够看到输出的是有效的ES5代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">» npm run build</span><br><span class="line">» cat dist/example.js</span><br><span class="line"><span class="meta">"use strict"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> double = <span class="function"><span class="keyword">function</span> <span class="title">double</span>(<span class="params">value</span>) </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> value * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(double(<span class="number">3</span>))</span><br><span class="line"><span class="comment">// &lt;- 6</span></span><br></pre></td></tr></table></figure>
<p>下面我们来学习一个不同种类的工具，代码检查工具<code>eslint</code>，可以帮助我们在应用项目中形成高质量的代码标准。</p>
<h3><span id="132-使用eslint提高代码质量和一致性">1.3.2 使用ESLint提高代码质量和一致性</span></h3><p>当我们开发一个代码库时，我们会分解那些冗余的或者没用的代码片段，编写新的代码片段，删除不再相关或必要的功能，并在兼容新的架构时进行代码块迁移。随着代码库的增长，编写代码库的团队也会随之改变：刚开始时可能只是几个人甚至只有一个人，但是随着项目规模的扩大，团队也会越来越大。</p>
<p>代码检测工具可以用来标识语法错误。现代的检测工具多是可定制的，可以帮助我们建立一个适用于团队中所有人的代码风格约定。通过坚持一致的代码风格和质量基准，可以使得团队在编码风格方面更加接近。不同的团队成员对于代码风格可能会有不同的意见，但是只要我们将代码检测工具用在合适的地方，并且意见上达成一致，则所有这些观点都可以被浓缩为风格规则。</p>
<p>除了确保程序能被解析，我们也可能想要防止<code>throw</code>抛出字符串字面量作为异常，或者不允许在生产环境中使用<code>console.log</code>和<code>debugger</code>语句。然而，要求必须所有的函数调用都必须只能有一个参数的规则可能就太过严厉了。</p>
<p>虽然代码检测工具能够很好地定义并且强制实行一种编码风格，但我们在定义规则集合时应该谨慎一点。如果检测过程太过严格，开发者可能会因为生产力受到影响而感到挫败。如果检测过程太过松散，可能在我们的代码库中就难以形成统一的编码风格。</p>
<p>为了能够把握好这个度，我们可以尽量避免那些即使用了在大多数情况下也不能改善程序的风格规则。每当我们想要新增一条规则时，我们应当扪心自问，加了它之后能否显著地改善现有代码库以及未来的新代码。</p>
<p>ESLint是一个现代代码检测工具，它集合了一些插件、有不同的规则，允许我们选择想要实行的规则。我们可以决定如果不遵守这些规则，是否在输出内容中输出一个警告，或者一个禁止错误。就像在之前的章节中安装<code>babel</code>那样，通过<code>npm</code>就可以安装<code>eslint</code>：</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint@<span class="number">3</span> --<span class="built_in">save</span>-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure>
<p>接下来，我们需要对ESLint进行配置。既然我们安装了<code>eslint</code>，并将其加入了本地依赖，那么我们能够在<em>node_modules/.bin</em>中找到它的命令行工具。在项目中首次进行ESLint配置时，执行以下命令能够指导我们进行配置。一开始，指明使用一个流行的规则指南，并且选择标准规则指南[注释 12]，最后选择JSON格式的配置文件：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./node_modules/.bin/eslint --init</span><br><span class="line">? How would you like <span class="keyword">to</span> configure ESLint?</span><br><span class="line">Use a popular style guide</span><br><span class="line">? Which style guide <span class="keyword">do</span> you want <span class="keyword">to</span> follow? Standard</span><br><span class="line">? What format <span class="keyword">do</span> you want your<span class="built_in"> config </span>file <span class="keyword">to</span> be <span class="keyword">in</span>? JSON</span><br></pre></td></tr></table></figure>
<p>除了独立的规则，<code>eslint</code>允许我们使用打包成Node.js模块的预定义规则集。这样在多项目甚至社区中共享配置就会很方便。选择标准规则指南后，我们能够看到ESLint向<em>package.json</em>中添加了一些依赖，即定义了预设标准规则集的包；然后创建了一个名为<em>.eslintrc.json</em>文件，包含以下内容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"extends"</span>: <span class="string">"standard"</span>, </span><br><span class="line">    <span class="attr">"plugins"</span>: [</span><br><span class="line">        <span class="string">"standard"</span>,</span><br><span class="line">        <span class="string">"promise"</span></span><br><span class="line">    ] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关于npm引用<em>node_modules/.bin</em>目录下的命令及如何工作的实现细节，不在本文的讨论范围之内。虽然我们在初始化ESLint配置时使用了这一引用命令，但没必要一直使用这一引用命令，同样也没必要在每次检测代码库时都重新输入。可以将下面代码片段中的<code>lint</code>脚本加入到<em>packge.json</em>中，从而避免重复输入引用命令：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">        <span class="attr">"lint"</span>: <span class="string">"eslint ."</span> </span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在之前的Babel有提到，<code>npm run</code>命令在执行script脚本时会将<em>node_modules</em>加入<code>PATH</code>环境变量。所以想要检查我们的代码库，可以执行<code>npm run lint</code>，然后npm会在<em>node_modules</em>目录中找到嵌入在其中的ESLint CLI。</p>
<p>思考一下下面的<em>example.js</em>文件，其内有着人为的代码风格问题，从而用来演示ESLint具体做了什么：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> goodbye=<span class="string">'Goodbye!'</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> goodbye&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">false</span>)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>如下图1-2所示，当我们执行<code>lint</code>脚本命令时，ESLint会标识文件中所有错误的地方。</p>
<p><img src="http://p5.qhimg.com/t016bb8126678b072b5.png" alt="图 1-2. ESLint工具能够很好地让我们的代码不受语法错误或者不统一的代码风格的影响"></p>
<p>如果在执行命令时传递<code>--fix</code>参数，ESLint能够自动修复大多数的风格问题。在<em>package.json</em>中加入以下脚本：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">        <span class="attr">"lint-fix"</span>: <span class="string">"eslint . --fix"</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果我们执行<code>lint-fix</code>，将只会得到两个错误：<code>hello</code>未使用和<code>false</code>是个不变的条件。其他的错误都已经被修复了，结果如下面的代码所示。这些仍然存在的错误之所以没有被修复，主要是因为避免对代码进行假设，并且不倾向于引起语义变化。鉴于ESLint所做的这些工作，<code>--fix</code>是一个很有用的工具，它能够解决代码风格问题，而不会存在导致程序破坏的风险。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> goodbye = <span class="string">'Goodbye!'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> goodbye</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>) &#123;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>还有一种类似的工具——<a href="https://github.com/prettier/prettier" target="_blank" rel="noopener">prettier</a>，它也可以用来自动格式化代码。Prettier可以配置自动重写我们代码，从而确保代码遵照我们设定的首选项，如使用给定的空格缩进、单引号或者双引号、尾逗号或者最大行长度。</p>
</blockquote>
<p>现在我们已经知道了如何将现代Javascript代码编译成每一个浏览器都能理解的代码，以及如何正确检查和格式化我们的代码，接下来我们来学习ES6的特性主题和JavaScript的未来。</p>
<h2><span id="14-es6特性主题">1.4 ES6特性主题</span></h2><p>ES6非常庞大：ES6语言规范的页数是ES5.1规范的两倍多，ES5.1是258页，而ES6高达566页。规范中的各个更新可以归纳为以下几个不同的类别：</p>
<ul>
<li>语法糖</li>
<li>新的机制</li>
<li>更好的语义</li>
<li>更多的内置对象和方法</li>
<li>不打破现有限制的解决方案</li>
</ul>
<p>语法糖是ES6中最重要的驱动因素之一。新版本中提供了很多简洁的方式，如使用新的Class语法来表达对象的集成；使用箭头函数作为函数的缩写语法；对于属性可以使用属性值缩写。还有其他一些特性我们将要讨论，如解构赋值、rest参数以及扩展运算符，也提供了一种更加语义化的编程方式。<a href="">第二章</a>和<a href="">第三章</a>会介绍ES6中的这部分内容。</p>
<p>ES6提供了一些新的机制用来描述异步代码流程，如<em>Promise</em>，代表一个操作的最终结果；<em>Iterator</em>代表一序列的值；<em>Generator</em>一种特殊的迭代器，能够生成一系列的值。在ES2017中，<code>async/await</code>则是构建在这些新概念和结构之上的，让我们可以像编写同步代码一样编写异步代码。我们会在<a href="">第四章</a>介绍这里提到的所有迭代器以及流控制机制。</p>
<p>在JavaScript中有一种常见的做法，即开发者使用普通的对象创建一个带有任意字符串键值的散列映射。如果我们不够小心，并且允许用户输入最终定义这些键值，那么就可能导致产生漏洞。ES6引入了一些新的原生内置对象来管理集合和映射，并且没有只能使用字符串键值的限制。这一系列的内容将在<a href="">第九章</a>介绍。</p>
<p>代理对象(Proxy)重新定义了可以通过Javascript Reflect对象完成的操作。代理对象和其他语境中所提到的代理类似，比如网络流量路由中所说的代理。它可以拦截JavaScript对象的任何交互，比如属性的定义、删除以及访问。鉴于代理的工作机制，很难全面地对其实现补丁：当然补丁是有的，只是在某些用例下会与规范不符。我们将在<a href="">第六章</a>讲解代理。</p>
<p>除了一些新的内置对象，ES6还对<code>Number</code>、<code>Math</code>、<code>Array</code>以及<code>String</code>对象进行了一定的扩展。在<a href="">第七章</a>，我们将介绍一系列添加在这些内置对象上的新实例方法和静态方法。</p>
<p>JavaScript将原生支持一个新的模块系统。<a href="">第八章</a>中，在讲解完Node.js中使用的CommonJS模块格式之后，我们将详细讲解予以厚望的原生JavaScript模块语义。</p>
<p>由于ES6引入了相当多的修改，所以很难将其新特性与现有的JavaScript知识相结合。我们将通过<a href="">第九章</a>整章来分析每个不同的特性的优点和重要性，这样你对于ES6就能有一定的实践经验，基于此你可以立刻开始使用ES6。</p>
<h2><span id="15-javascript的未来">1.5 JavaScript的未来</span></h2><p>JavaScript语言已经从1995年一门没啥名气的语言发展成为了今天这样一门强大的语言。虽然ES6已经有了很大的进步，但是这远远不是终点。鉴于每年都会有新的规范发布，那么如何保持对最新规范的了解是很重要的。</p>
<p>在<a href="">1.2小节</a>中，我们学习了滚动标准规范的开发过程。时刻跟进标准的最好方式之一就是定期访问TC39提案库[注释 13]。时刻关注一下候选推荐提案(即第三阶段提案)，因为这些提案最有可能加入到规范中。</p>
<p>鉴于标准化过程的滚动特性，在一本书中描述一门不断变化的语言是富有挑战的。想要时刻跟进最新的JavaScript更新，最有效的方式是关注TC39提案库，订阅电子邮件新闻周刊[注释 14]，并阅读JavaScript博客[注释 15]。</p>
<p>在撰写本书时，期待已久的Async函数已经加入规范，并在ES2017中发布。当时，有很多候选提案，比如动态<code>import()</code>，支持动态加载原生JavaScript模块；以及使用新的rest和扩展运算符语法描述对象属性枚举，它们在ES6中首次引入，用于参数列表和数组之中。</p>
<p>虽然本书的主要关注点是ES6，但我们也同样会学习重要的候选推荐，比如：之前提及的Async函数，动态<code>import()</code>调用，对象rest/扩展以及其他内容。</p>
<blockquote>
<p>[注释 1] <a href="https://docs.oracle.com/cd/E19957-01/816-6411-10/contents.htm" target="_blank" rel="noopener">1998年的这本手册</a>详细讲解了关于服务端JavaScript以及LiveWire的复杂之处。</p>
<p>[注释 2] 在<a href="https://mjavascript.com/out/jscript-net" target="_blank" rel="noopener">微软的网站</a>上可以找到最初的公告(2000年6月)。</p>
<p>[注释 3] 收听Brendan Ecih的播客，能够找到关于<a href="https://devchat.tv/js-jabber/124-jsj-the-origin-of-javascript-with-brendan-eich" target="_blank" rel="noopener">JavaScript起源</a>的内容。</p>
<p>[注释 4] <a href="https://mjavascript.com/out/aol-netscape" target="_blank" rel="noopener">The Mac Observer</a>有该新闻的报道(2003年7月)。</p>
<p>[注释 5] 2008年，Brendan Eich给es讨论邮件组发送了一封邮件，在其中概括了<a href="https://mjavascript.com/out/harmony" target="_blank" rel="noopener">会议情况</a>，此时ES3已经发布了近十年。</p>
<p>[注释 6] 对于在将Web ECMAScript规范合并到主干时所做的全部更改，请参阅<a href="https://mjavascript.com/out/javascript-standard" target="_blank" rel="noopener">WHATWG博客</a>。</p>
<p>[注释 7] 可以查看2013年的这一公告——<a href="https://mjavascript.com/out/tc39-improvement" target="_blank" rel="noopener">公告 - ES6 规范流程</a>，公告指出了优化后的提案修订流程。</p>
<p>[注释 8] 点击查看<a href="https://mjavascript.com/out/tc39-proposals" target="_blank" rel="noopener">被TC39采纳的所有提案</a></p>
<p>[注释 9] 点击查看<a href="https://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener">ES6的浏览器兼容性详情列表</a></p>
<p>[注释 10] 点击查看<a href="https://tc39.github.io/process-document/" target="_blank" rel="noopener">TC39的提案流程文档说明</a></p>
<p>[注释 11] 点击查看<a href="https://github.com/tc39/proposals/blob/master/stage-0-proposals.md" target="_blank" rel="noopener">稻草人提案</a></p>
<p>[注释 12] 注意，Standard是指一种自我宣告，并未由任何官方组织进行实际的标准化。其实，只要能够保持统一，使用哪种风格并不重要。在阅读项目代码库时，一致性有助于减少困扰。Airbnb风格指南也是很受欢迎，和Standard不同，它默认不可省略分号。</p>
<p>[注释 13] 点击查看<a href="https://mjavascript.com/out/tc39-proposals" target="_blank" rel="noopener">TC39收录的所有提案</a></p>
<p>[注释 14] 有很多类似于<a href="https://ponyfoo.com/weekly" target="_blank" rel="noopener">Pony Foo周刊</a>和<a href="http://javascriptweekly.com/" target="_blank" rel="noopener">Javascriot周刊</a>的新闻刊物。</p>
<p>[注释 15] <a href="https://ponyfoo.com/articles/tagged/ecmascript" target="_blank" rel="noopener">Pony Foo</a>上有很多关于ECMAScript开发的文章，<a href="http://2ality.com/archive.html?tag=esnext" target="_blank" rel="noopener">Axel Rauschmayer</a>也写了很多关于这方面的文章。</p>
</blockquote>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://verymuch.com/2017/10/23/第1章-ECMAScript-和-JavaScript-的未来/" data-id="cjjx4nz59000bu13y4r6p1x76" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://verymuch.com/2017/10/23/第1章-ECMAScript-和-JavaScript-的未来/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://verymuch.com/2017/10/23/第1章-ECMAScript-和-JavaScript-的未来/">评论</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/11/01/第2章-ES6基础/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    第2章 ES6基础
                
            </div>
        </a>
    
    
        <a href="/2017/02/11/跟扎克伯格学习提高工作效率/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">跟扎克伯格学习提高工作效率</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/22/css性能优化的9个技巧/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2018/07/22/css性能优化的9个技巧/" class="title">css性能优化的7个技巧</a></p>
                            <p class="item-date"><time datetime="2018-07-22T15:49:10.000Z" itemprop="datePublished">2018-07-22</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/05/30/第三章-类、Symbol、对象和装饰器/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2018/05/30/第三章-类、Symbol、对象和装饰器/" class="title">第三章 类、Symbol、对象和装饰器</a></p>
                            <p class="item-date"><time datetime="2018-05-30T06:24:57.000Z" itemprop="datePublished">2018-05-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/05/23/如何清除行内元素之间的HTML空白/" class="thumbnail">
    
    
        <span style="background-image:url(/images/align.gif)" alt="如何清除行内元素之间的HTML空白" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2018/05/23/如何清除行内元素之间的HTML空白/" class="title">如何清除行内元素之间的HTML空白</a></p>
                            <p class="item-date"><time datetime="2018-05-23T10:00:48.000Z" itemprop="datePublished">2018-05-23</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/05/15/如何建立数据库索引/" class="thumbnail">
    
    
        <span style="background-image:url(/images/search_index.gif)" alt="如何建立数据库索引" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2018/05/15/如何建立数据库索引/" class="title">如何建立数据库索引</a></p>
                            <p class="item-date"><time datetime="2018-05-15T10:14:58.000Z" itemprop="datePublished">2018-05-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/05/11/机器学习资料/" class="thumbnail">
    
    
        <span style="background-image:url(/images/robot-learning.gif)" alt="机器学习资料" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2018/05/11/机器学习资料/" class="title">机器学习资料</a></p>
                            <p class="item-date"><time datetime="2018-05-11T07:42:04.000Z" itemprop="datePublished">2018-05-11</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/EXERCISE-SPACE/">EXERCISE_SPACE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/GROWING-SPACE/">GROWING_SPACE</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS小技巧/">CSS小技巧</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/他人经验总结/">他人经验总结</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工作效率/">工作效率</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/有感/">有感</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/沉淀/">沉淀</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/翻译/">翻译</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/CSS小技巧/" style="font-size: 10px;">CSS小技巧</a> <a href="/tags/他人经验总结/" style="font-size: 10px;">他人经验总结</a> <a href="/tags/工作效率/" style="font-size: 10px;">工作效率</a> <a href="/tags/有感/" style="font-size: 10px;">有感</a> <a href="/tags/沉淀/" style="font-size: 20px;">沉淀</a> <a href="/tags/翻译/" style="font-size: 15px;">翻译</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 verymuch<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://verymuch.com/2017/10/23/第1章-ECMAScript-和-JavaScript-的未来/';
        
        this.page.identifier = '第1章-ECMAScript-和-JavaScript-的未来';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'hexo-theme-icarus' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>